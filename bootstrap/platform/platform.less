/* Instantor Platform stylings */

// Needs some color work.
@import "color.less";

@linkColor: @baseColor; // Set new link color for nav elements
@primaryButtonBackground: #08c; // Reset button color, looks fugly when changed


/* ----- variables ---------------------------------------------------------- */

@resourcesPath: "../";
@accentColor: @baseColor;

/* ----- mixins ------------------------------------------------------------- */

// Required mixin - copied from Bootstrap's mixins.less for brevity
// Drop shadows
.box-shadow(@shadow: 0 1px 3px rgba(0,0,0,.25)) {
  -webkit-box-shadow: @shadow;
     -moz-box-shadow: @shadow;
          box-shadow: @shadow;
}

.background-source(@file){
  background-image: url('@{resourcesPath}images/@{file}');
}

.icon {
  height: 16px;
  padding-left: 20px;
  background-repeat: no-repeat;
}

.btn{
  .btn-smaller {
    padding: 5px 9px;
    font-size: 11px;
    position: relative;
    top: -2px;
  }
}

.no-drag {
  -moz-user-drag: -moz-none;
  -webkit-user-drag: none;
  user-drag: none;
}

.no-select {
  -moz-user-select: -moz-none;
  -webkit-user-select: none;
  user-select: none;
}

.prepend-top { margin-top: @gridGutterWidth; }
.append-bottom { margin-bottom: @gridGutterWidth; }

#marked {
  background-color: lighten(@analog1, 40%);
  text-shadow: 1px 1px 0 fadeout(@white, 50%);

  .alter { background-color: lighten(@analog2, 40%); }
}

/* ----- redefs ------------------------------------------------------------- */

ul.horizontal {
  list-style: none;
  margin: 0;

  li { display: inline; }
}
ul.headless { list-style: none; }

.list-comma {
  li {
    &:after { content: ", "; }
    &:last-child:after { content: none; }
  }
}

a {
  &:hover { text-decoration: none; }
}

.row > [class*="span"].block-right { float: right; }

.align-right { text-align: right; }
.align-center { text-align: center; }
.align-justify { text-align: justify; }

hr.space { border-width: 0; }

.btn {
  .no-drag;
  .no-select;

  &.active { color: @gray; }
}

.light { color: @grayLight; }

select {
  background-color: @white;
  .box-shadow(inset 0 1px 3px rgba(0,0,0,.1));
}

fieldset {
  &.side-bordered {
    padding-top: 0;
    padding-bottom: @baseLineHeight;
  }

  legend {
    & + div { margin-top: @baseLineHeight; }
  }
}

ul.nav-pills {
  .no-select;
  .no-drag;
}

.help-inline,
.help-block {
  &.error   { color: @errorText; }
  &.warning { color: @warningText; }
  &.success { color: @successText; }
  &.info    { color: @infoText; }
}

h2 {
  strong { text-shadow: 1px 1px 0 fadeout(@grayLight, 25%); }
}

.formlike .input { margin-left: 160px; }

.nobr { white-space: nowrap; }
.hidden { display: none; }

.uppercase { text-transform: uppercase; }
.smallcaps { font-variant: small-caps; }
.bold { font-weight: bold; }
.thin { font-weight: normal; }


// --- tha workz ---------------------------------------------------------------

#header {
  margin: 0 0 @baseLineHeight 0;
  #gradient.vertical(@white, @grayLighter);
  border-bottom: 3px solid @baseColor;
  text-shadow: 1px 1px 0 @white;
  //.border-radius(2px);
}

.header {
  margin: 0;
  padding: @baseLineHeight 0;
  text-shadow: 1px 1px 0 @grayLighter;
  color: @white;
  margin-left: 0;
  .no-select;

  a { color: @black; }
}

#footer {
  padding: @gridGutterWidth / 2 0 0;
  margin: @gridGutterWidth 0 0 0;
  border-top: 3px solid @gray;
  background: @white;
  //text-shadow: 1px 1px 0 @white;
  //.border-radius(2px 2px 0 0);
}

.container, .container-fluid {
  background: @white;
  padding: 0 @gridGutterWidth;
  .border-radius(3px);
  .box-shadow(0 0 15px fadeout(@grayLight, 40%));
}

.underlined {
  border-bottom: 1px solid @grayLighter;
  .append-bottom;
}

#mainmenu {
  margin-top: 4 * @gridGutterWidth;
  text-align: right;
}

.mainmenu {
  li {
    &.bare a {
      background: none;
      .box-shadow(none);

      &:hover { .box-shadow(none); }
    }
  }

  a {
    padding: @gridGutterWidth / 2 @gridGutterWidth * 2;
    background: @baseColor;
    #gradient.vertical(lighten(@baseColor, 5%), darken(@baseColor, 5%));
    color: @white;
    text-shadow: 0 1px 1px fadeout(@black, 60%);
    .border-radius(3px);
    .box-shadow(1px 1px 3px fadeout(@black, 75%) inset);
    .transition(.1s linear all);
    .no-drag;
    .no-select;

    &:hover {
      color: @black;
      text-shadow: 0 1px 1px fadeout(@white, 60%);
      .box-shadow();
    }

    &:active {
      position: relative;
      top: 2px;
    }
  }
}

.logo {
  background-position: left top;
  background-repeat: no-repeat;
  text-indent: -8000px;

  &.instantor {
    &.green {
      .background-source('logo-instantor.png');
      height: 60px;
    }
    &.silver {
      .background-source('logo-instantor_silver.png');
      height: @baseLineHeight;
    }
  }

  &.instantplatform {
    .background-source('logo-instantplatform_54.png');
    height: 3 * @baseLineHeight;
  }
}

/* ----- table redefs and addefs ---------------------------------- */

table {
  &.table-bordered tbody tr:first-child {
    td:first-child {
      -moz-border-radius: 0;
      -webkit-border-radius: 0;
      border-radius: 0;
    }
    td:last-child {
      -moz-border-radius: 0;
      -webkit-border-radius: 0;
      border-radius: 0;
    }
  }

  &.table-striped tbody tr {
    &.marked {
      .btn { .btn.active; }

      td {
        #marked;
        border-top: 1px solid lighten(@analog1, 20%);
      }
      &:hover td {
        #marked.alter;
        border-top: 1px solid lighten(@analog2, 20%);
      }
    }
  }
  
  &.table {
      thead {
        th { vertical-align: middle; }
      }
      
      tbody {
        td { vertical-align: middle; }
      }
  }
  
  tr {
    &.spanned td {
      #gradient.vertical(#EEE, #FFF);
      text-shadow: 1px 1px 0 @white;
    }

    &:first-child {
      th { border-bottom: 2px solid darken(@baseColor, 10%); }
      td { border-top: none; }
    }
    &:hover {
      th { border-bottom: 2px solid darken(@baseColor, 25%); }
    }
  }

  td {
    vertical-align: middle;

    &.small  { font-size: 0.85em; }
    &.center { text-align: center; }
    &.right  { text-align: right; }
  }
  th {
    text-align: center;
    background: #DDD;
    #gradient.vertical(#EEE, #CCC);
    text-shadow: 1px 1px 0 fadeout(@white, 10%);
  }
}

.info-list {
  li {
    background: lighten(@grayLighter, 5%);
    padding: @gridGutterWidth / 2;
    margin-bottom: @gridGutterWidth / 2;
    .border-radius(2px);
    .clearfix;

    &:hover { background: @grayLighter; }
  }

  .descr {
    float: left;
    //font-weight: bold;
    //text-transform: uppercase;
    text-shadow: 1px 1px 0 @white;

    &:after { content: ": "; }
  }

  .data {
    // currently unnecessary
  }
}

// ---



